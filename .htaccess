RewriteEngine On

# Exclude these PHP files from being redirected
RewriteCond %{REQUEST_URI} !^/sms_verification\.php$ [NC]
RewriteCond %{REQUEST_URI} !^/cancel_order\.php$ [NC]
RewriteCond %{REQUEST_URI} !^/buy_again\.php$ [NC]

# Redirect direct .php access to extensionless URL
RewriteCond %{THE_REQUEST} \s/([^\\s]+)\.php[\s?] [NC]
RewriteRule ^ %1 [R=301,L]

# Internally rewrite clean URL (/login) to login.php
RewriteCond %{REQUEST_FILENAME}.php -f
RewriteRule ^([a-zA-Z0-9_-]+)$ $1.php [L]
